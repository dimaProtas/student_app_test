{"ast":null,"code":"import { dataAPI } from \"../api/api.js\";\nconst SET_STUDENTS = \"SET_STUDENTS\";\nconst SET_CURSES = \"SET_CURSES\";\nconst SET_SEMESTER = \"SET_SEMESTER\";\nlet initialState = {\n  students: [],\n  curses: [],\n  semester: []\n};\nconst DataReduser = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_SEMESTER:\n      return {\n        ...state,\n        semester: [...action.semester]\n      };\n    case SET_CURSES:\n      return {\n        ...state,\n        curses: [...action.curses]\n      };\n    case SET_STUDENTS:\n      return {\n        ...state,\n        students: [...action.students]\n      };\n    default:\n      return state;\n  }\n};\n_c = DataReduser;\nexport default DataReduser;\nexport const getSemester = () => {\n  return async dispatch => {\n    const response = await dataAPI.getSemestr();\n    if (response.status === 200) {\n      dispatch(setSemester(response.data));\n    }\n  };\n};\nexport const getCurses = () => {\n  return async dispatch => {\n    try {\n      const response = await dataAPI.getCurses();\n      if (response.status === 200) {\n        dispatch(setCurses(response.data));\n      }\n    } catch (error) {\n      console.error(\"Curses error:\", error);\n    }\n  };\n};\nexport const getStudent = () => {\n  return async dispatch => {\n    try {\n      const response = await dataAPI.getStudent();\n      if (response.status === 200) {\n        dispatch(setStudent(response.data));\n      }\n    } catch (error) {\n      console.error(\"Student error:\", error);\n    }\n  };\n};\n\n//Вывод стрелочной ф-и без return возможен, если функция только возвращает обьекты, после => нужно обернуть в ()\nexport const setStudent = students => ({\n  type: SET_STUDENTS,\n  students\n});\nexport const setCurses = curses => ({\n  type: SET_CURSES,\n  curses\n});\nexport const setSemester = semester => ({\n  type: SET_SEMESTER,\n  semester\n});\nvar _c;\n$RefreshReg$(_c, \"DataReduser\");","map":{"version":3,"names":["dataAPI","SET_STUDENTS","SET_CURSES","SET_SEMESTER","initialState","students","curses","semester","DataReduser","state","action","type","_c","getSemester","dispatch","response","getSemestr","status","setSemester","data","getCurses","setCurses","error","console","getStudent","setStudent","$RefreshReg$"],"sources":["/home/dima_protasevich/Documents/PycharmProjects/student_app_test/frontend/src/reduser/data-reduser.js"],"sourcesContent":["import {dataAPI} from \"../api/api.js\";\n\nconst SET_STUDENTS = \"SET_STUDENTS\";\nconst SET_CURSES = \"SET_CURSES\";\nconst SET_SEMESTER = \"SET_SEMESTER\";\n\n\nlet initialState = {\n  students: [],\n  curses: [],\n  semester: [],\n};\n\nconst DataReduser = (state = initialState, action) => {\n  switch (action.type) {\n\n    case SET_SEMESTER:\n      return {\n        ...state,\n        semester: [...action.semester]\n      }\n\n    case SET_CURSES:\n        return{\n            ...state,\n            curses: [...action.curses]\n        }\n\n    case SET_STUDENTS:\n      return {\n        ...state,\n        students: [...action.students],\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default DataReduser;\n\nexport const getSemester = () => {\n  return async (dispatch) => {\n    const response = await dataAPI.getSemestr();\n    if (response.status === 200) {\n      dispatch(setSemester(response.data))\n    }\n  }\n}\n\nexport const getCurses = () => {\n    return async (dispatch) => {\n      try {\n        const response = await dataAPI.getCurses();\n        if (response.status === 200) {\n          dispatch(setCurses(response.data));\n        }\n      } catch (error) {\n        console.error(\"Curses error:\", error);\n      }\n    }\n}\n\n\nexport const getStudent = () => {\n  return async (dispatch) => {\n    try {\n      const response = await dataAPI.getStudent();\n      if (response.status === 200) {\n        \n        dispatch(setStudent(response.data));\n      } \n    } catch (error) {\n      console.error(\"Student error:\", error);\n    }\n\n  };\n};\n\n\n\n\n//Вывод стрелочной ф-и без return возможен, если функция только возвращает обьекты, после => нужно обернуть в ()\nexport const setStudent = (students) => ({ type: SET_STUDENTS, students });\nexport const setCurses = (curses) => ({type: SET_CURSES, curses})\nexport const setSemester = (semester) => ({type: SET_SEMESTER, semester})\n\n"],"mappings":"AAAA,SAAQA,OAAO,QAAO,eAAe;AAErC,MAAMC,YAAY,GAAG,cAAc;AACnC,MAAMC,UAAU,GAAG,YAAY;AAC/B,MAAMC,YAAY,GAAG,cAAc;AAGnC,IAAIC,YAAY,GAAG;EACjBC,QAAQ,EAAE,EAAE;EACZC,MAAM,EAAE,EAAE;EACVC,QAAQ,EAAE;AACZ,CAAC;AAED,MAAMC,WAAW,GAAGA,CAACC,KAAK,GAAGL,YAAY,EAAEM,MAAM,KAAK;EACpD,QAAQA,MAAM,CAACC,IAAI;IAEjB,KAAKR,YAAY;MACf,OAAO;QACL,GAAGM,KAAK;QACRF,QAAQ,EAAE,CAAC,GAAGG,MAAM,CAACH,QAAQ;MAC/B,CAAC;IAEH,KAAKL,UAAU;MACX,OAAM;QACF,GAAGO,KAAK;QACRH,MAAM,EAAE,CAAC,GAAGI,MAAM,CAACJ,MAAM;MAC7B,CAAC;IAEL,KAAKL,YAAY;MACf,OAAO;QACL,GAAGQ,KAAK;QACRJ,QAAQ,EAAE,CAAC,GAAGK,MAAM,CAACL,QAAQ;MAC/B,CAAC;IAEH;MACE,OAAOI,KAAK;EAChB;AACF,CAAC;AAACG,EAAA,GAxBIJ,WAAW;AA0BjB,eAAeA,WAAW;AAE1B,OAAO,MAAMK,WAAW,GAAGA,CAAA,KAAM;EAC/B,OAAO,MAAOC,QAAQ,IAAK;IACzB,MAAMC,QAAQ,GAAG,MAAMf,OAAO,CAACgB,UAAU,CAAC,CAAC;IAC3C,IAAID,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;MAC3BH,QAAQ,CAACI,WAAW,CAACH,QAAQ,CAACI,IAAI,CAAC,CAAC;IACtC;EACF,CAAC;AACH,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAC3B,OAAO,MAAON,QAAQ,IAAK;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMf,OAAO,CAACoB,SAAS,CAAC,CAAC;MAC1C,IAAIL,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;QAC3BH,QAAQ,CAACO,SAAS,CAACN,QAAQ,CAACI,IAAI,CAAC,CAAC;MACpC;IACF,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACvC;EACF,CAAC;AACL,CAAC;AAGD,OAAO,MAAME,UAAU,GAAGA,CAAA,KAAM;EAC9B,OAAO,MAAOV,QAAQ,IAAK;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMf,OAAO,CAACwB,UAAU,CAAC,CAAC;MAC3C,IAAIT,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;QAE3BH,QAAQ,CAACW,UAAU,CAACV,QAAQ,CAACI,IAAI,CAAC,CAAC;MACrC;IACF,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACxC;EAEF,CAAC;AACH,CAAC;;AAKD;AACA,OAAO,MAAMG,UAAU,GAAIpB,QAAQ,KAAM;EAAEM,IAAI,EAAEV,YAAY;EAAEI;AAAS,CAAC,CAAC;AAC1E,OAAO,MAAMgB,SAAS,GAAIf,MAAM,KAAM;EAACK,IAAI,EAAET,UAAU;EAAEI;AAAM,CAAC,CAAC;AACjE,OAAO,MAAMY,WAAW,GAAIX,QAAQ,KAAM;EAACI,IAAI,EAAER,YAAY;EAAEI;AAAQ,CAAC,CAAC;AAAA,IAAAK,EAAA;AAAAc,YAAA,CAAAd,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}