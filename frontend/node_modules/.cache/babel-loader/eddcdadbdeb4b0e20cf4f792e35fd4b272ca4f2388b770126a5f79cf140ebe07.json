{"ast":null,"code":"import { dataAPI } from \"../api/api.js\";\nconst SET_STUDENTS = \"SET_STUDENTS\";\nconst SET_CURSES = \"SET_CURSES\";\nconst SET_SEMESTER = \"SET_SEMESTER\";\nconst SET_SEMESTER_CURSES = \"SET_SEMESTER_CURSES\";\nconst DELETE_STUDENT = \"DELETE_STUDENT\";\nconst DELETE_CURSE = \"DELETE_CURSE\";\nlet initialState = {\n  students: [],\n  curses: [],\n  semester: [],\n  semesterCurses: []\n};\nconst DataReduser = (state = initialState, action) => {\n  switch (action.type) {\n    case DELETE_CURSE:\n      return {\n        ...state,\n        curses: state.curses.filter(curse => curse.id !== action.curse_id)\n      };\n    case DELETE_STUDENT:\n      return {\n        ...state,\n        students: state.students.filter(student => student.id !== action.student_id)\n      };\n    case SET_SEMESTER_CURSES:\n      return {\n        ...state,\n        semesterCurses: [...action.semesterCurces]\n      };\n    case SET_SEMESTER:\n      return {\n        ...state,\n        semester: [...action.semester]\n      };\n    case SET_CURSES:\n      return {\n        ...state,\n        curses: [...action.curses]\n      };\n    case SET_STUDENTS:\n      return {\n        ...state,\n        students: [...action.students]\n      };\n    default:\n      return state;\n  }\n};\n_c = DataReduser;\nexport default DataReduser;\nexport const deleteCurse = curse_id => {\n  return async dispatch => {\n    const response = await dataAPI.deleteCurse(curse_id);\n    try {\n      if (response.status === 204) {\n        dispatch(deleteCurseDispath(curse_id));\n      }\n    } catch (error) {\n      console.log(\"Curse delete error:\", error);\n    }\n  };\n};\nexport const deleteStudent = student_id => {\n  return async dispatch => {\n    const response = await dataAPI.deleteStudent(student_id);\n    try {\n      if (response.status === 204) {\n        dispatch(deleteStudentDispacher(student_id));\n      }\n    } catch (error) {\n      console.log(\"Delete student error: \", error);\n    }\n  };\n};\nexport const getSemesterCurses = () => {\n  return async dispatch => {\n    const response = await dataAPI.getSemesterCurses();\n    try {\n      if (response.status === 200) {\n        dispatch(setSemesterCurses(response.data));\n      }\n    } catch (error) {\n      console.log('SemesterCurses error:', error);\n    }\n  };\n};\nexport const getSemester = () => {\n  return async dispatch => {\n    try {\n      const response = await dataAPI.getSemester();\n      if (response.status === 200) {\n        dispatch(setSemester(response.data));\n      }\n    } catch (error) {\n      console.log('Semester error:', error);\n    }\n  };\n};\nexport const getCurses = () => {\n  return async dispatch => {\n    try {\n      const response = await dataAPI.getCurses();\n      if (response.status === 200) {\n        dispatch(setCurses(response.data));\n      }\n    } catch (error) {\n      console.error(\"Curses error:\", error);\n    }\n  };\n};\nexport const getStudent = () => {\n  return async dispatch => {\n    try {\n      const response = await dataAPI.getStudent();\n      if (response.status === 200) {\n        dispatch(setStudent(response.data));\n      }\n    } catch (error) {\n      console.error(\"Student error:\", error);\n    }\n  };\n};\n\n//Вывод стрелочной ф-и без return возможен, если функция только возвращает обьекты, после => нужно обернуть в ()\nexport const setStudent = students => ({\n  type: SET_STUDENTS,\n  students\n});\nexport const setCurses = curses => ({\n  type: SET_CURSES,\n  curses\n});\nexport const setSemester = semester => ({\n  type: SET_SEMESTER,\n  semester\n});\nexport const setSemesterCurses = semesterCurces => ({\n  type: SET_SEMESTER_CURSES,\n  semesterCurces\n});\nexport const deleteStudentDispacher = student_id => ({\n  type: DELETE_STUDENT,\n  student_id\n});\nexport const deleteCurseDispath = curse_id => ({\n  type: DELETE_CURSE,\n  curse_id\n});\nvar _c;\n$RefreshReg$(_c, \"DataReduser\");","map":{"version":3,"names":["dataAPI","SET_STUDENTS","SET_CURSES","SET_SEMESTER","SET_SEMESTER_CURSES","DELETE_STUDENT","DELETE_CURSE","initialState","students","curses","semester","semesterCurses","DataReduser","state","action","type","filter","curse","id","curse_id","student","student_id","semesterCurces","_c","deleteCurse","dispatch","response","status","deleteCurseDispath","error","console","log","deleteStudent","deleteStudentDispacher","getSemesterCurses","setSemesterCurses","data","getSemester","setSemester","getCurses","setCurses","getStudent","setStudent","$RefreshReg$"],"sources":["/home/dima_protasevich/Documents/PycharmProjects/student_app_test/frontend/src/reduser/data-reduser.js"],"sourcesContent":["import {dataAPI} from \"../api/api.js\";\n\nconst SET_STUDENTS = \"SET_STUDENTS\";\nconst SET_CURSES = \"SET_CURSES\";\nconst SET_SEMESTER = \"SET_SEMESTER\";\nconst SET_SEMESTER_CURSES = \"SET_SEMESTER_CURSES\";\nconst DELETE_STUDENT = \"DELETE_STUDENT\";\nconst DELETE_CURSE = \"DELETE_CURSE\"\n\n\nlet initialState = {\n  students: [],\n  curses: [],\n  semester: [],\n  semesterCurses: [],\n};\n\nconst DataReduser = (state = initialState, action) => {\n  switch (action.type) {\n\n    case DELETE_CURSE:\n      return {\n        ...state,\n        curses: state.curses.filter(curse => curse.id !== action.curse_id)\n      }\n\n    case DELETE_STUDENT:\n      return {\n        ...state,\n        students: state.students.filter(student => student.id !== action.student_id)\n      }\n\n    case SET_SEMESTER_CURSES:\n      return {\n        ...state,\n        semesterCurses: [...action.semesterCurces],\n      };\n\n    case SET_SEMESTER:\n      return {\n        ...state,\n        semester: [...action.semester]\n      }\n\n    case SET_CURSES:\n        return{\n            ...state,\n            curses: [...action.curses]\n        }\n\n    case SET_STUDENTS:\n      return {\n        ...state,\n        students: [...action.students],\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default DataReduser;\n\n\nexport const deleteCurse = (curse_id) => {\n  return async (dispatch) => {\n    const response = await dataAPI.deleteCurse(curse_id);\n    try {\n      if (response.status ===  204) {\n        dispatch(deleteCurseDispath(curse_id))\n      }\n    } catch (error) {\n      console.log(\"Curse delete error:\", error)\n    }\n  }\n}\n\n\nexport const deleteStudent = (student_id) => {\n  return async (dispatch) => {\n    const response = await dataAPI.deleteStudent(student_id);\n    try {\n      if (response.status === 204) {\n        dispatch(deleteStudentDispacher(student_id))\n      }\n    } catch (error) {\n      console.log(\"Delete student error: \", error)\n    }\n  }\n}\n\n\nexport const getSemesterCurses = () => {\n  return async (dispatch) => {\n    const response = await dataAPI.getSemesterCurses();\n    try {\n      if (response.status === 200) {\n        dispatch(setSemesterCurses(response.data));\n      }\n    } catch (error) {\n      console.log('SemesterCurses error:', error)\n    }\n  }\n}\n\nexport const getSemester = () => {\n  return async (dispatch) => {\n    try {\n      const response = await dataAPI.getSemester();\n      if (response.status === 200) {\n        dispatch(setSemester(response.data))\n      }\n    } catch (error) {\n      console.log('Semester error:', error)\n    }\n  }\n}\n\nexport const getCurses = () => {\n    return async (dispatch) => {\n      try {\n        const response = await dataAPI.getCurses();\n        if (response.status === 200) {\n          dispatch(setCurses(response.data));\n        }\n      } catch (error) {\n        console.error(\"Curses error:\", error);\n      }\n    }\n}\n\n\nexport const getStudent = () => {\n  return async (dispatch) => {\n    try {\n      const response = await dataAPI.getStudent();\n      if (response.status === 200) {\n        \n        dispatch(setStudent(response.data));\n      } \n    } catch (error) {\n      console.error(\"Student error:\", error);\n    }\n\n  };\n};\n\n\n\n\n//Вывод стрелочной ф-и без return возможен, если функция только возвращает обьекты, после => нужно обернуть в ()\nexport const setStudent = (students) => ({ type: SET_STUDENTS, students });\nexport const setCurses = (curses) => ({type: SET_CURSES, curses})\nexport const setSemester = (semester) => ({type: SET_SEMESTER, semester})\nexport const setSemesterCurses = (semesterCurces) => ({type: SET_SEMESTER_CURSES, semesterCurces})\nexport const deleteStudentDispacher = (student_id) => ({type: DELETE_STUDENT, student_id})\nexport const deleteCurseDispath = (curse_id) => ({ type: DELETE_CURSE, curse_id });\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}